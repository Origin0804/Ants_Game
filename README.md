# 🐜 Ant Colony Simulation (Pygame Edition)

一个基于 Pygame 的简单蚁群仿真模拟器。观察蚂蚁如何通过简单的局部规则和信息素机制，涌现出复杂的寻路智慧。

## ✨ 特性

- **真实模拟**：包含寻找食物、搬运、释放信息素、信息素挥发等核心机制。
- **动态环境**：实时计算信息素的衰减与扩散。
- **交互式操作**：你可以像上帝一样随时改变地形、投放食物。
- **高性能运算**：使用 NumPy 加速网格状态更新。

## 🛠️ 安装与配置

推荐使用 Conda 创建独立的虚拟环境。

### 1. 创建环境

```bash
conda create -n ant_sim python=3.9
conda activate ant_sim
```

### 2. 安装依赖

确保你在项目根目录下，运行：

```bash
pip install -r requirements.txt
```

*注：如果你没有 requirements.txt，可以直接运行 `pip install pygame numpy`*

## 🚀 如何运行

运行主程序文件：

```bash
python main.py
```

## 🎮 操作指南

| 按键 / 操作 | 功能 |
| --- | --- |
| **鼠标左键** | 绘制障碍物 (墙) |
| **鼠标右键** | 投放食物 |
| **空格 (SPACE)** | 暂停 / 继续 |
| **R 键** | 清除所有信息素 (Reset) |
| **C 键** | 清空地图 (Clear Map) |
| **ESC / Q** | 退出 |

## 🧩 配置调整

你可以修改 `config.py` 中的参数来改变仿真行为：
- `ANT_COUNT`: 蚂蚁数量
- `EVAPORATION_RATE`: 信息素挥发速度 (0.95-0.99)
- `SENSOR_RANGE`: 蚂蚁感知范围

## 📁 项目结构

```
ant_simulation/
│
├── main.py              # 程序入口，包含主循环和事件处理
├── config.py            # 全局配置参数 (屏幕大小、颜色、蚂蚁数量等)
├── entity/
│   ├── ant.py           # 蚂蚁类 (行为逻辑)
│   └── world.py         # 世界类 (地图网格、信息素管理)
├── utils/
│   └── draw_utils.py    # 绘图辅助函数
├── requirements.txt     # 依赖列表
└── README.md            # 说明文档
```

## 🔬 仿真机制

### 蚂蚁行为

1. **寻找食物模式 (Foraging)**:
   - 感知周围环境，优先移向食物
   - 无食物时跟随信息素轨迹
   - 否则随机行走

2. **回巢模式 (Returning)**:
   - 携带食物返回巢穴
   - 沿途释放信息素
   - 到达巢穴后放下食物，切换为寻找模式

### 信息素机制

- **释放**: 回巢蚂蚁每步释放信息素
- **挥发**: 每帧全局衰减，浓度逐渐降低
- **正反馈**: 蚂蚁倾向于选择信息素浓度高的路径

## 🎨 视觉说明

- **蓝色圆圈**: 巢穴
- **绿色圆点**: 食物源
- **灰色方块**: 障碍物
- **红色小点**: 寻找食物的蚂蚁
- **黄色小点**: 携带食物回巢的蚂蚁
- **绿色轨迹**: 信息素（亮度表示浓度）

## 📝 许可证

MIT License